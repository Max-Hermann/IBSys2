<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Datei einlesen</title>
  </head>
<input id="input" type='file' onchange='handleFile(this.files)'><br>
<div id='output'></div>

<script>
  
  var parseXml = function (xml) {
    
    var parsedXml;
    
    if (window.DOMParser){
        parser=new DOMParser();
        parsedXml=parser.parseFromString(xml,"text/xml");
      }
      else // Internet Explorer
      {
        parsedXml=new ActiveXObject("Microsoft.XMLDOM");
        parsedXml.async=false;
        parsedXml.loadXML(xml); 
      }
      
      return parsedXml;
  }
  
  function nodeConstructor (name,children,attributes) {
    this.name = name;
    this.attributes=attributes;
    this.children=children;
  }
  
  function convertDomToJson (rootElement) {
    var jsonObj = {
      name: rootElement.nodeName,
      attributes: [],
      children: []
    };
    
    if (rootElement.nodeType === 1) { //ElementNode
      if (rootElement.attributes.length > 0) {
        for (var i = 0; i < rootElement.attributes.length; i++) {
          jsonObj.attributes.push({name: rootElement.attributes[i].name, value: rootElement.attributes[i].value});
        }
      }
    }
    else if (rootElement.nodeType === 3) { //TextNode
      jsonObj = rootElement.nodeValue;
    }
    
    if (rootElement.hasChildNodes()) {
      for (var j = 0; j < rootElement.childNodes.length; j++) {
        jsonObj.children.push(convertDomToJson(rootElement.childNodes[j]));
      }
    }
    return jsonObj;
  }
  
  var handleFile = function(files) {
    
    var selectedFile = files[0];
    var size = selectedFile.size;
    var type = selectedFile.type;
    var result;
    var xmlDoc;
    var json;
    
    
    
    var reader = new FileReader();
    
    reader.onload = function(e) {
      result = reader.result;
      
      xmlDoc = parseXml(result);    
      json = convertDomToJson(xmlDoc.documentElement);
      
      document.getElementById('output').innerHTML='Groesse: '+size+' Type: '+type+' Inhalt: '+JSON.stringify(json);
    }

    reader.readAsText(selectedFile);
  };
</script>
</html>